<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <title>News - Brickado Hub</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
</head>
<body class="bg-light">

<div class="container py-4">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h4 mb-0">üì∞ News da Brickado</h1>
        <a href="{% url 'home' %}" class="btn btn-outline-secondary">
            ‚Üê Home
        </a>
    </div>

    <!-- Filtros simples por categoria -->
    <div class="mb-3">
        <span class="me-2 text-muted">Filtrar por:</span>
        <a href="{% url 'news_list' %}" class="btn btn-sm {% if not categoria_atual %}btn-primary{% else %}btn-outline-primary{% endif %}">
            Todas
        </a>
        <a href="{% url 'news_list' %}?cat=GERAL" class="btn btn-sm {% if categoria_atual == 'GERAL' %}btn-primary{% else %}btn-outline-primary{% endif %}">
            Geral
        </a>
        <a href="{% url 'news_list' %}?cat=PRODUTOS" class="btn btn-sm {% if categoria_atual == 'PRODUTOS' %}btn-primary{% else %}btn-outline-primary{% endif %}">
            Produtos
        </a>
        <a href="{% url 'news_list' %}?cat=TORNEIOS" class="btn btn-sm {% if categoria_atual == 'TORNEIOS' %}btn-primary{% else %}btn-outline-primary{% endif %}">
            Torneios
        </a>
        <a href="{% url 'news_list' %}?cat=EVENTOS" class="btn btn-sm {% if categoria_atual == 'EVENTOS' %}btn-primary{% else %}btn-outline-primary{% endif %}">
            Eventos
        </a>
    </div>

    {% if posts %}
        <div class="list-group">
            {% for post in posts %}
                <a href="{% url 'news_detail' pk=post.id %}"
                   class="list-group-item list-group-item-action">
                    <div class="d-flex justify-content-between">
                        <div>
                            {% if post.destaque %}
                                <span class="badge bg-warning text-dark me-1">Destaque</span>
                            {% endif %}
                            <strong>{{ post.titulo }}</strong>
                            {% if post.jogo %}
                                <span class="badge bg-secondary ms-1">{{ post.jogo }}</span>
                            {% endif %}
                            <br>
                            {% if post.resumo %}
                                <small class="text-muted">{{ post.resumo }}</small><br>
                            {% endif %}
                            <small class="text-muted">
                                {{ post.get_categoria_display }} ‚Ä¢ {{ post.criado_em|date:"d/m/Y H:i" }}
                            </small>
                        </div>
                    </div>
                </a>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-muted">
            Nenhuma not√≠cia cadastrada ainda.  
            Use o painel de <strong>Admin</strong> para criar as primeiras News.
        </p>
    {% endif %}

</div>

</body>
</html>
